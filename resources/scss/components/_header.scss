.header {
	@include flex (center, center, row);
	z-index: 50;

	will-change: background-color, height, border-bottom, backdrop-filter;
	transition: background-color $trans-3, height $trans-3, border-bottom $trans-3, backdrop-filter $trans-3;

	// Blocks
	&__container {
		@include flex (space-between, center, row);
	}

	&__logo {
		@include flex(flex-start, center, row);
		min-height: 50px;
		max-height: 50px;
		height: 100%;

		will-change: max-height, min-height;
		transition: max-height $trans-3, min-height $trans-3;

		img.logo {
			min-height: 50px;
			max-height: 50px;
			height: 100%;

			will-change: max-height, min-height;
			transition: max-height $trans-3, min-height $trans-3;

			&.light {
				display: flex;
				visibility: visible;
				pointer-events: all;
			}

			&.dark {
				display: none;
				visibility: hidden;
				pointer-events: none;
			}
		}
	}

	&__nav {
		@include flex(center, flex-start, row);
		min-height: 55px;

		will-change: min-height;
		transition: min-height $trans-3;
	}

	&__contacts {
		@include flex(space-between, flex-end, column);
		min-height: 50px;
		max-height: 50px;
		height: 100%;

		will-change: max-height, min-height;
		transition: max-height $trans-3, min-height $trans-3;

		&>a {
			@include link-hover($ACM);
		}
	}

	// Navigation components
	&__main-list {
		@include flex(center, top, row);
		@include gap(0, 40px);
	}

	&__sub-list {
		position: absolute;
		top: 30px;
		left: 0;

		overflow: hidden;
		width: max-content;

		transform: translateZ(0);
		will-change: opacity;
		transition: all .2s ease-in-out 0s;

		opacity: 0;
		visibility: hidden;
		pointer-events: none;

		border-radius: $radius-s;
		border: 1px $WHT solid;

		backdrop-filter: blur(10px);
		background: rgba(236, 236, 236, 0.2);
	}

	&__main-link {
		position: relative;

		&.sub-link {
			&>p {
				@include link-hover($WHT);
				@include flex(center, center, row);
				@include gap(0, 7px);

				position: relative;

				&::after {
					@include pseudo;
					top: 100%;
					left: 0;
					right: 0;

					width: 100%;
					height: 100%;
				}
			}

			&:hover {
				.header__open {
					background-color: $WHT;

					-webkit-box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.3);
					-moz-box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.3);
					box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.3);

					&::before {
						opacity: 1;
						transform: translate(-50%, 50%);
					}
				}

				.header__sub-list {
					opacity: 1;
					visibility: visible;
					pointer-events: all;
				}
			}
		}

		&>a {
			@include link-hover($ACM);
		}
	}

	&__sub-link {
		@include flex(flex-start, center, row);

		will-change: background-color;
		transition: all .2s ease-in-out 0s;

		&.sub-title {
			background-color: rgba(236, 236, 236, 0.2);
			border-bottom: 1px $WHT solid;
		}

		&>a {
			width: 100%;
			padding: 15px;
		}

		&:hover {
			background-color: rgba(236, 236, 236, 0.3);
		}
	}

	&__open {
		will-change: background-color, box-shadow;
		transition: all .2s ease-in-out 0s;

		position: relative;

		width: 14px;
		height: 14px;

		background: url('/resources/images/icons/icon-down-light.svg') center no-repeat;
		background-size: 100%;

		border-radius: 50%;

		-webkit-box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.0);
		-moz-box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.0);
		box-shadow: 0px 0px 7px 3px rgba(255, 255, 255, 0.0);

		&::before {
			@include pseudo;
			top: 50%;
			left: 50%;

			will-change: opacity;
			transition: all .2s ease-in-out 0s;
			transform: translate(-50%, -50%);

			width: 1px;
			height: 100%;

			opacity: 0;
			background: $WHT;
		}
	}

	// Mobile buttons
	&__mobile-menu {
		@include flex(center, center, row);
		width: 40px;
		height: 40px;

		border: 1px $WHT solid;
		border-radius: $radius-s;

		backdrop-filter: blur(10px);
		background-color: rgba(0, 0, 0, 0.53);

		display: none;
		visibility: hidden;

		img {
			width: 20px;
			height: 20px;
			pointer-events: none;

			&.btn-menu-light {
				display: flex;
				visibility: visible;
			}

			&.btn-menu-dark {
				display: none;
				visibility: hidden;
			}
		}
	}

	// Mods
	&.stick-dark {
		backdrop-filter: blur(10px);
		background-color: rgba(0, 0, 0, 0.53);

		// Blocks
		.header__logo {
			min-height: 42px;
			max-height: 42px;

			img.logo {
				min-height: 42px;
				max-height: 42px;
			}
		}

		.header__nav {
			min-height: 0;
		}

		.header__contacts {
			min-height: 42px;
			max-height: 42px;
		}

		// Navigation components
		.header__sub-list {
			background: rgba(0, 0, 0, 0.7);
		}

		.header__sub-link {
			&.sub-title {
				background: rgba(0, 0, 0, 0.6);
			}

			&:hover {
				background: rgba(0, 0, 0, 0.6);
			}
		}
	}

	&.stick-light {
		backdrop-filter: none;
		box-shadow: $card-shadow;
		background-color: $GRY;
		// border-bottom: $bla-border;

		// Blocks
		.header__logo>img.logo {

			&.light {
				display: none;
				visibility: hidden;
				pointer-events: none;
			}

			&.dark {
				display: flex;
				visibility: visible;
				pointer-events: all;
			}
		}

		.header__contacts>a {
			color: $BLA;
			@include link-hover($ACM);
		}

		// Navigation components
		.header__sub-list {
			border: $bla-border;
			background: $GRY;
			box-shadow: $card-shadow;
		}

		.header__main-link {

			&.sub-link {
				&>p {
					@include link-hover($BLA);
					color: $BLA;
				}

				&:hover {
					.header__open {
						background-color: $BLA;

						-webkit-box-shadow: 0px 0px 7px 3px rgba(0, 0, 0, 0);
						-moz-box-shadow: 0px 0px 7px 3px rgba(0, 0, 0, 0);
						box-shadow: 0px 0px 7px 3px rgba(0, 0, 0, 0);
					}
				}
			}

			&>a {
				color: $BLA;
				@include link-hover($ACM);
			}
		}

		.header__sub-link {
			&.sub-title {
				background: unset;
				border-bottom: $bla-border;
			}

			&>a {
				color: $BLA;
			}

			&:hover {
				background: $WHT;
			}
		}

		.header__open {
			background: url('/resources/images/icons/icon-down-dark.svg') center no-repeat;
			background-size: 100%;

			&::before {
				background: $BLA;
			}
		}
	}

	@media (max-width: $xl) {

		&__logo,
		&__nav,
		&__contacts {
			min-height: 42px;
			max-height: 42px;
		}

		&__logo>img.logo {
			min-height: 42px;
			max-height: 42px;
		}

		&__main-list {
			@include gap(0, 20px);
		}
	}

	@media (max-width: $lg) {
		&__nav {
			display: none;
		}

		&__contacts {
			display: none;
		}

		&__mobile-menu {
			display: flex;
			visibility: visible;
		}

		&.stick-light {
			.header__mobile-menu {
				border: 1px $BLA solid;

				backdrop-filter: none;
				background-color: transparent;

				img {
					&.btn-menu-light {
						display: none;
						visibility: hidden;
					}

					&.btn-menu-dark {
						display: flex;
						visibility: visible;
					}
				}
			}
		}
	}
}